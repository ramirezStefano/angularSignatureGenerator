{"ast":null,"code":"import { Children as $iqq3r$Children, cloneElement as $iqq3r$cloneElement, useState as $iqq3r$useState, useRef as $iqq3r$useRef, useEffect as $iqq3r$useEffect, useCallback as $iqq3r$useCallback, useReducer as $iqq3r$useReducer } from \"react\";\nimport { flushSync as $iqq3r$flushSync } from \"react-dom\";\nimport { useComposedRefs as $iqq3r$useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useLayoutEffect as $iqq3r$useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nfunction $fe963b355347cc68$export$3e6543de14f8614f(initialState, machine) {\n  return $iqq3r$useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState !== null && nextState !== void 0 ? nextState : state;\n  }, initialState);\n}\nconst $921a889cee6df7e8$export$99c2b779aa4e8b8b = props => {\n  const {\n    present: present,\n    children: children\n  } = props;\n  const presence = $921a889cee6df7e8$var$usePresence(present);\n  const child = typeof children === 'function' ? children({\n    present: presence.isPresent\n  }) : $iqq3r$Children.only(children);\n  const ref = $iqq3r$useComposedRefs(presence.ref, child.ref);\n  const forceMount = typeof children === 'function';\n  return forceMount || presence.isPresent ? /*#__PURE__*/$iqq3r$cloneElement(child, {\n    ref: ref\n  }) : null;\n};\n$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName = 'Presence';\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/\nfunction $921a889cee6df7e8$var$usePresence(present) {\n  const [node1, setNode] = $iqq3r$useState();\n  const stylesRef = $iqq3r$useRef({});\n  const prevPresentRef = $iqq3r$useRef(present);\n  const prevAnimationNameRef = $iqq3r$useRef('none');\n  const initialState = present ? 'mounted' : 'unmounted';\n  const [state, send] = $fe963b355347cc68$export$3e6543de14f8614f(initialState, {\n    mounted: {\n      UNMOUNT: 'unmounted',\n      ANIMATION_OUT: 'unmountSuspended'\n    },\n    unmountSuspended: {\n      MOUNT: 'mounted',\n      ANIMATION_END: 'unmounted'\n    },\n    unmounted: {\n      MOUNT: 'mounted'\n    }\n  });\n  $iqq3r$useEffect(() => {\n    const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n  }, [state]);\n  $iqq3r$useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(styles);\n      if (present) send('MOUNT');else if (currentAnimationName === 'none' || (styles === null || styles === void 0 ? void 0 : styles.display) === 'none')\n        // If there is no exit animation or the element is hidden, animations won't run\n        // so we unmount instantly\n        send('UNMOUNT');else {\n        /**\n        * When `present` changes to `false`, we check changes to animation-name to\n        * determine whether an animation has started. We chose this approach (reading\n        * computed styles) because there is no `animationrun` event and `animationstart`\n        * fires after `animation-delay` has expired which would be too late.\n        */\n        const isAnimating = prevAnimationName !== currentAnimationName;\n        if (wasPresent && isAnimating) send('ANIMATION_OUT');else send('UNMOUNT');\n      }\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n  $iqq3r$useLayoutEffect(() => {\n    if (node1) {\n      /**\n      * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n      * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n      * make sure we only trigger ANIMATION_END for the currently active animation.\n      */\n      const handleAnimationEnd = event => {\n        const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n        if (event.target === node1 && isCurrentAnimation)\n          // With React 18 concurrency this update is applied\n          // a frame after the animation ends, creating a flash of visible content.\n          // By manually flushing we ensure they sync within a frame, removing the flash.\n          $iqq3r$flushSync(() => send('ANIMATION_END'));\n      };\n      const handleAnimationStart = event => {\n        if (event.target === node1)\n          // if animation occurred, store its name as the previous animation.\n          prevAnimationNameRef.current = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n      };\n      node1.addEventListener('animationstart', handleAnimationStart);\n      node1.addEventListener('animationcancel', handleAnimationEnd);\n      node1.addEventListener('animationend', handleAnimationEnd);\n      return () => {\n        node1.removeEventListener('animationstart', handleAnimationStart);\n        node1.removeEventListener('animationcancel', handleAnimationEnd);\n        node1.removeEventListener('animationend', handleAnimationEnd);\n      };\n    } else\n      // Transition to the unmounted state if the node is removed prematurely.\n      // We avoid doing so during cleanup as the node may change but still exist.\n      send('ANIMATION_END');\n  }, [node1, send]);\n  return {\n    isPresent: ['mounted', 'unmountSuspended'].includes(state),\n    ref: $iqq3r$useCallback(node => {\n      if (node) stylesRef.current = getComputedStyle(node);\n      setNode(node);\n    }, [])\n  };\n}\n/* -----------------------------------------------------------------------------------------------*/\nfunction $921a889cee6df7e8$var$getAnimationName(styles) {\n  return (styles === null || styles === void 0 ? void 0 : styles.animationName) || 'none';\n}\nexport { $921a889cee6df7e8$export$99c2b779aa4e8b8b as Presence };\n//# sourceMappingURL=index.mjs.map","map":{"version":3,"names":["Children","$iqq3r$Children","cloneElement","$iqq3r$cloneElement","useState","$iqq3r$useState","useRef","$iqq3r$useRef","useEffect","$iqq3r$useEffect","useCallback","$iqq3r$useCallback","useReducer","$iqq3r$useReducer","flushSync","$iqq3r$flushSync","useComposedRefs","$iqq3r$useComposedRefs","useLayoutEffect","$iqq3r$useLayoutEffect","$fe963b355347cc68$export$3e6543de14f8614f","initialState","machine","state","event","nextState","$921a889cee6df7e8$export$99c2b779aa4e8b8b","props","present","children","presence","$921a889cee6df7e8$var$usePresence","child","isPresent","only","ref","forceMount","displayName","node1","setNode","stylesRef","prevPresentRef","prevAnimationNameRef","send","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","currentAnimationName","$921a889cee6df7e8$var$getAnimationName","current","styles","wasPresent","hasPresentChanged","prevAnimationName","display","isAnimating","handleAnimationEnd","isCurrentAnimation","includes","animationName","target","handleAnimationStart","addEventListener","removeEventListener","node","getComputedStyle","Presence"],"sources":["/Users/stefanoramirez/Documents/angularSignatureGenerator/node_modules/@radix-ui/react-presence/dist/index.mjs"],"sourcesContent":["import {Children as $iqq3r$Children, cloneElement as $iqq3r$cloneElement, useState as $iqq3r$useState, useRef as $iqq3r$useRef, useEffect as $iqq3r$useEffect, useCallback as $iqq3r$useCallback, useReducer as $iqq3r$useReducer} from \"react\";\nimport {flushSync as $iqq3r$flushSync} from \"react-dom\";\nimport {useComposedRefs as $iqq3r$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {useLayoutEffect as $iqq3r$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\n\n\n\n\n\n\nfunction $fe963b355347cc68$export$3e6543de14f8614f(initialState, machine) {\n    return $iqq3r$useReducer((state, event)=>{\n        const nextState = machine[state][event];\n        return nextState !== null && nextState !== void 0 ? nextState : state;\n    }, initialState);\n}\n\n\nconst $921a889cee6df7e8$export$99c2b779aa4e8b8b = (props)=>{\n    const { present: present , children: children  } = props;\n    const presence = $921a889cee6df7e8$var$usePresence(present);\n    const child = typeof children === 'function' ? children({\n        present: presence.isPresent\n    }) : $iqq3r$Children.only(children);\n    const ref = $iqq3r$useComposedRefs(presence.ref, child.ref);\n    const forceMount = typeof children === 'function';\n    return forceMount || presence.isPresent ? /*#__PURE__*/ $iqq3r$cloneElement(child, {\n        ref: ref\n    }) : null;\n};\n$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName = 'Presence';\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/ function $921a889cee6df7e8$var$usePresence(present) {\n    const [node1, setNode] = $iqq3r$useState();\n    const stylesRef = $iqq3r$useRef({});\n    const prevPresentRef = $iqq3r$useRef(present);\n    const prevAnimationNameRef = $iqq3r$useRef('none');\n    const initialState = present ? 'mounted' : 'unmounted';\n    const [state, send] = $fe963b355347cc68$export$3e6543de14f8614f(initialState, {\n        mounted: {\n            UNMOUNT: 'unmounted',\n            ANIMATION_OUT: 'unmountSuspended'\n        },\n        unmountSuspended: {\n            MOUNT: 'mounted',\n            ANIMATION_END: 'unmounted'\n        },\n        unmounted: {\n            MOUNT: 'mounted'\n        }\n    });\n    $iqq3r$useEffect(()=>{\n        const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n        prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n    }, [\n        state\n    ]);\n    $iqq3r$useLayoutEffect(()=>{\n        const styles = stylesRef.current;\n        const wasPresent = prevPresentRef.current;\n        const hasPresentChanged = wasPresent !== present;\n        if (hasPresentChanged) {\n            const prevAnimationName = prevAnimationNameRef.current;\n            const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(styles);\n            if (present) send('MOUNT');\n            else if (currentAnimationName === 'none' || (styles === null || styles === void 0 ? void 0 : styles.display) === 'none') // If there is no exit animation or the element is hidden, animations won't run\n            // so we unmount instantly\n            send('UNMOUNT');\n            else {\n                /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */ const isAnimating = prevAnimationName !== currentAnimationName;\n                if (wasPresent && isAnimating) send('ANIMATION_OUT');\n                else send('UNMOUNT');\n            }\n            prevPresentRef.current = present;\n        }\n    }, [\n        present,\n        send\n    ]);\n    $iqq3r$useLayoutEffect(()=>{\n        if (node1) {\n            /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */ const handleAnimationEnd = (event)=>{\n                const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n                const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n                if (event.target === node1 && isCurrentAnimation) // With React 18 concurrency this update is applied\n                // a frame after the animation ends, creating a flash of visible content.\n                // By manually flushing we ensure they sync within a frame, removing the flash.\n                $iqq3r$flushSync(()=>send('ANIMATION_END')\n                );\n            };\n            const handleAnimationStart = (event)=>{\n                if (event.target === node1) // if animation occurred, store its name as the previous animation.\n                prevAnimationNameRef.current = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n            };\n            node1.addEventListener('animationstart', handleAnimationStart);\n            node1.addEventListener('animationcancel', handleAnimationEnd);\n            node1.addEventListener('animationend', handleAnimationEnd);\n            return ()=>{\n                node1.removeEventListener('animationstart', handleAnimationStart);\n                node1.removeEventListener('animationcancel', handleAnimationEnd);\n                node1.removeEventListener('animationend', handleAnimationEnd);\n            };\n        } else // Transition to the unmounted state if the node is removed prematurely.\n        // We avoid doing so during cleanup as the node may change but still exist.\n        send('ANIMATION_END');\n    }, [\n        node1,\n        send\n    ]);\n    return {\n        isPresent: [\n            'mounted',\n            'unmountSuspended'\n        ].includes(state),\n        ref: $iqq3r$useCallback((node)=>{\n            if (node) stylesRef.current = getComputedStyle(node);\n            setNode(node);\n        }, [])\n    };\n}\n/* -----------------------------------------------------------------------------------------------*/ function $921a889cee6df7e8$var$getAnimationName(styles) {\n    return (styles === null || styles === void 0 ? void 0 : styles.animationName) || 'none';\n}\n\n\n\n\nexport {$921a889cee6df7e8$export$99c2b779aa4e8b8b as Presence};\n//# sourceMappingURL=index.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}